<%= nested_form_for @adventure do |f| %>

  <% if @adventure.errors.any? %>
    <ul>
      <% @adventure.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  <% end %>

  <div>
    <%= f.label :title %>
    <%= f.text_field :title %>
  </div>

  <div>
    <%= f.label :description %>
    <%= f.text_area :description %>
  </div>

  <div>
    <%= f.label :completed %>
    <%= f.check_box :completed %>
  </div>

  <h2>Encounters</h2>

  <%= f.fields_for :encounters do |encounter_form| %>
    <div>
      <h4>Encounter</h4>
      <%= encounter_form.link_to_remove 'Delete Encounter' %>
      <br>
      <%= encounter_form.label :title %>
      <%= encounter_form.text_field :title %>
      <br>
      <%= encounter_form.label :description %>
      <%= encounter_form.text_area :description %>
      <br>
      <%= encounter_form.label :reward %>
      <%= encounter_form.text_field :reward %>
      <br>
      <%= encounter_form.label :experience %>
      <%= encounter_form.number_field :experience %>
      <br>
      <%= encounter_form.label :completed %>
      <%= encounter_form.check_box :completed %>
    </div>
  <% end %>
  <br>
  <div><%= f.link_to_add "Add an Encounter", :encounters %></div>
  <br>

  <h2>Notes</h2>

  <%= f.fields_for :notes do |notes_form| %>
    <div>
      <h4>Note</h4>
      <%= notes_form.link_to_remove 'Delete Note' %>
      <br>
      <%= notes_form.label :title %>
      <%= notes_form.text_field :title %>
      <br>
      <%= notes_form.label :description %>
      <%= notes_form.text_area :description %>
    </div>
  <% end %>
  <br>
  <div><%= f.link_to_add "Add a note", :notes %></div>
  <br>
  <div>
    <%= f.submit 'Submit' %>
  </div>

<% end %>
